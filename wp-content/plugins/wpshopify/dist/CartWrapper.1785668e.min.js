(window.wpshopify=window.wpshopify||[]).push([["CartWrapper"],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/wrapper/index.jsx":function(e,t,n){"use strict";n.r(t);var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js"),a=n.n(o),c=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(c),p=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js"),d=n.n(p),r=n("./node_modules/react/index.js"),i=n.n(r),l=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/_state/context.js"),w=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js"),u=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js"),y=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js"),f=n.n(y),h=n("../../../../../devil/devilbox-new/data/www/wpshopify-api/index.js"),b=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/await-to-js/dist/await-to-js.es5.js"),m=i.a.lazy((function(){return n.e("CartHeader").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/header/index.jsx"))})),E=i.a.lazy((function(){return n.e("CartContents").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/contents/index.jsx"))})),T=i.a.lazy((function(){return n.e("CartFooter").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/footer/index.jsx"))})),_=i.a.lazy((function(){return n.e("CartButtons").then(n.bind(null,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/cart/buttons/index.jsx"))}));t.default=function(){var e=Object(r.useContext)(l.a),t=d()(e,2),n=t[0],o=t[1],c=Object(r.useContext)(w.a),p=d()(c,1)[0],y=Object(r.useRef)(),x=Object(r.useRef)(!0),j=Object(u.a)("update.checkout.attributes"),v=Object(u.a)("set.checkout.attributes"),C=Object(u.a)("set.checkout.note"),O=Object(u.a)("product.addToCart");function I(){return(I=s()(a.a.mark((function e(){var t,n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.checkoutId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.a)(Object(h.m)());case 4:t=e.sent,n=d()(t,2),c=n[0],s=n[1],c&&shopDispatch({type:"UPDATE_NOTICES",payload:{type:"error",message:c}}),o({type:"SET_CHECKOUT_CACHE",payload:{checkoutId:p.checkoutId}}),o({type:"SET_LINE_ITEMS_AND_VARIANTS",payload:{lineItems:{products:s},checkoutId:p.checkoutId}}),f()(s)?o({type:"SET_IS_CART_EMPTY",payload:!0}):o({type:"SET_IS_CART_EMPTY",payload:!1}),o({type:"SET_IS_CART_READY",payload:!0});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[p.checkoutId]),Object(r.useEffect)((function(){x.current?x.current=!1:o({type:"UPDATE_CHECKOUT_ATTRIBUTES",payload:j})}),[j]),Object(r.useEffect)((function(){x.current?x.current=!1:o({type:"SET_CHECKOUT_ATTRIBUTES",payload:v})}),[v]),Object(r.useEffect)((function(){x.current?x.current=!1:o({type:"SET_CHECKOUT_NOTE",payload:C})}),[C]),Object(r.useEffect)((function(){x.current?x.current=!1:(O&&(o({type:"UPDATE_LINE_ITEMS_AND_VARIANTS",payload:O}),o({type:"TOGGLE_CART",payload:!0})),f()(O)?o({type:"SET_IS_CART_EMPTY",payload:!0}):o({type:"SET_IS_CART_EMPTY",payload:!1}))}),[O]),i.a.createElement("section",{ref:y,className:"wps-cart"},i.a.createElement(_,null),i.a.createElement(m,null),i.a.createElement(E,{isCartEmpty:n.isCartEmpty,checkoutCache:n.checkoutCache}),i.a.createElement(T,null))}}}]);